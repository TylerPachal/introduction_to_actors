# 2) Actors With App

This second example shows how to arrange actors into an application, and how to specify their specification in [application.ex](lib/sushi/application.ex).
An app with a supervisor can be generated by running:

```
$ mix new my_app --sup
```

To test this code, open `iex`.  You should see messages from the actors starting up:
```
$ iex -S mix

Elixir.Sushi.Chef Starting
Elixir.Sushi.Cashier Starting
```

Then you can send orders to the cashier, and flush your processes' messages to see the responses from the cashier:
```
iex(1)> GenServer.call(Sushi.Cashier, {:order, self(), 2})
Elixir.Sushi.Cashier Received in-store order from #PID<0.115.0>
Elixir.Sushi.Chef Making 2 rolls for #PID<0.115.0>
:thank_you

iex(2)> flush()
{:"$gen_cast", ["cucumber", "shrimp tempura"]}
:ok
```

Since the actors are now supervised, you can try killing them and will see that they are restarted automatically (in this example we are looking the `pid` up from the name):

```
iex(3)> Process.whereis(Sushi.Chef) |> Process.exit(:kill)
```